<template>
    <!--Header -->
    <div class="header-bar">
        <div class="web-pages-links">
            <template if:true={sidebarActions.length} for:each={sidebarActions} for:item="link">
                <a
                    class={link.className}
                    key={link.name}
                    data-name={link.name}
                    onclick={handleLinkClick}
                    >{link.label}</a
                >
            </template>
        </div>
        <div class="web-shrinked-menu">
            <!-- User Login -->
            <div class="user-login-button" data-name={loginButton.name} onclick={toggleUserPanel}>
                {loginButton.label}
            </div>
            <!-- Hamburger Menu -->
            <lightning-button-icon class="hamburger-menu-button"
                icon-name={hamburgerMenuIcon}
                variant="bare"
                size="large"
                onclick={handleToggleHamburgerMenu}
            ></lightning-button-icon>
        </div>
    </div>
    <div class="user-login-panel slds-nubbin_top-right" if:true={userPanelOpen}>
            <!-- Close User Panel -->
            <lightning-button-icon class="close-panel-button"
                icon-name="utility:close"
                variant="bare"
                size="large"
                onclick={handleCloseUserPanel}
            ></lightning-button-icon>
            <!-- User Panel -->
            <div class="user-panel-content">
                <c-user-profile
                    logged-in={loggedIn}
                    active-user-id={activeUserId}
                    onuserupdate={handleUpdateUser}
                ></c-user-profile>
            </div>
    </div>
    <div if:true={isMenuOpen} class="web-backdrop"></div>
    <!-- Main Preview -->
    <div class="web-grid-container">
        
        <div class="web-content">
            <!-- Loading -->
            <lightning-spinner
                if:true={loading}
                variant="brand"
                alternative-text="loading.."
            ></lightning-spinner>
            <!-- Lightning Out Button -->
            <lightning-button
                label="lex"
                icon-name="utility:refresh"
                variant="border-filled"
                onclick={renderLightningOut}
            ></lightning-button>
            
            <!-- Content -->
            <ui-content-body
            if:true={pathName}
            path-name={pathName}
            onpublish={toggleUserPanel}
        ></ui-content-body>
        </div>
    </div>

    <!-- END -->

</template>
